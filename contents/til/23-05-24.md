---
isTIL: true
date: "2023-05-24"
title: "캐시 살펴보기"
categories: ["Review"]
summary: "캐시 공부해보기"
thumbnail: "./23-05-24-th.jpg"
---


## 캐시 (Cache)
캐시는 값 비싼 연산 결과 또는 자주 참조되는 데이터를 **메모리 안**에 두고, 뒤이은 요청이 보다 빨리 처리 될 수 있도록 하는 저장소이다. **애플리케이션의 성능은 데이터베이스를 얼마나 자주 호출**하느냐에 따라 크게 좌우됨. 이때 캐시는 이러한 문제를 완화할 수 있음.  

### 캐시 계층
**캐시 계층 이점**
- 성능 개선
- 데이터베이스 부하 감소
- 캐시 계층의 규모를  독립적으로 확장 가능

**읽기 주도형 캐시 전략 (read-through caching strategy)**
- 요청을 받은 웹 서버는 캐시에 응답이 저장되어 있는지 확인
- 저장되어 있다면 해당 데이터를 클라이언트에 반환
- 없다면 질의를 통해 데이터를 찾아 캐시에 저장한 뒤 클라이언트에 반환

### 캐시 유의할 점
- 데이터 갱신이 자주 일어나지 않지만 **참조**가 빈번하게 일어나는가?
- **영속적**으로 보관할 데이터를  캐시에 두는 것은 바람직하지  못함
- 캐시의 **만료 정책**도 중요한 고려사항
- 저장소의 원본을 갱신하는 연산과 캐시를 갱신하는 연산이 단일 트랜잭션으로 처리되지 않는 경우 **일관성**이 깨질 수 있음
- 캐시 서버를 한 대만 두는 경우 해당 서버가 **SPOF(Single Point of Failure)** 가 될 수 있음. 캐시 서버를 여러 지역에 거쳐 **분산**하자
- 캐시 **메모리 크기**가 너무 작다면 액세스 패턴에 따라 데이터가 너무 자주 밀려날 수 있음
- **데이터 방출 정책** 고려하기 LRU (Least Recently Used), LFU (Least Frequently Used), FIFO (First In First Out)





## Reference
- 가상 면접 사례로 배우는 대규모 시스템  설계 기초 (알렉스 쉬)